<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>distributed system</title>

    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/datepicker3.css" rel="stylesheet">
    <link href="/static/css/styles.css" rel="stylesheet">
    <script src="/static/js/lumino.glyphs.js"></script>
    <style type="text/css" media="screen">
  html, body {
    width: 100%;
  }
  .mm {
    list-style: none;
  }
  *{margin:0;padding:0;}
  #box {
    width: 1200px;
    margin: 20px auto;
  }
  .slide {
    height: 500px;
    position: relative;
  }
  .slide ul {
    height: 100%;
  }
  .slide li {
    position: absolute;
    left:200px;
    top:0;
  }
  .slide li img{
    width: 100%;
  }
  .arraw {
    opacity: 0;
  }
  .arraw a {
    width: 70px;
    height: 110px;
    display: block;
    position: absolute;
    top: 50%;
    margin-top: -55px;
    z-index: 999;
  }
  .next {
    background: url(/static/image/right.png) no-repeat;
    right: -10px;
    /*opacity: .5;*/
    /*filter: alpha(opacity=50);*/
  }
  .prev {
    background: url(/static/image/left.png) no-repeat;
    left: -10px;
  }

    </style>


</head>

<body>

<div id="box">
    <div class="slide">
        <ul class="mm">
            <li><a href="/file_trans/charts0/"><img src="/static/image/1.png" alt=""></a></li>
            <li><a href="/file_trans/charts1/"><img src="/static/image/2.png" alt=""></a></li>
            <li><a href="/file_trans/charts2/"><img src="/static/image/3.png" alt=""></a></li>

        </ul>
        <div class="arraw">
            <a href="javascript:;" class="next"></a>
            <a href="javascript:;" class='prev'></a>
        </div>
    </div>
</div>


<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#sidebar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#"><span>distributed system</span></a>
            <ul class="user-menu">
                <li class="dropdown pull-right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <svg class="glyph stroked male-user">
                            <use xlink:href="#stroked-male-user"></use>
                        </svg>
                        User <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">
                            <svg class="glyph stroked male-user">
                                <use xlink:href="#stroked-male-user"></use>
                            </svg>
                            Profile</a></li>
                        <li><a href="#">
                            <svg class="glyph stroked gear">
                                <use xlink:href="#stroked-gear"></use>
                            </svg>
                            Settings</a></li>
                        <li><a href="#">
                            <svg class="glyph stroked cancel">
                                <use xlink:href="#stroked-cancel"></use>
                            </svg>
                            Logout</a></li>
                    </ul>
                </li>
            </ul>
        </div>

    </div><!-- /.container-fluid -->
</nav>

<div id="sidebar-collapse" class="col-sm-3 col-lg-2 sidebar">
    <form role="search">
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Search">
        </div>
    </form>
    <ul class="nav menu">
        <li><a href="/file_trans/0/">
            <svg class="glyph stroked dashboard-dial">
                <use xlink:href="#stroked-dashboard-dial"></use>
            </svg>
            主面板</a></li>
        <li><a href="/file_trans/show_file/">
            <svg class="glyph stroked stroked-blank-document">
                <use xlink:href="#stroked-blank-document"></use>
            </svg>
            文件</a></li>


        <li><a href="/file_trans/2/">
            <svg class="glyph stroked stroked-upload">
                <use xlink:href="#stroked-upload"></use>
            </svg>
            上传</a></li>
        <li><a href="/file_trans/3/">
            <svg class="glyph stroked stroked-download">
                <use xlink:href="#stroked-download"></use>
            </svg>
            下载</a></li>
        <li><a href="/file_trans/4/">
            <svg class="glyph stroked stroked-folder">
                <use xlink:href="#stroked-folder"></use>
            </svg>
            备份</a></li>
        <li class="active"><a href="/file_trans/5/">
            <svg class="glyph stroked line-graph">
                <use xlink:href="#stroked-line-graph"></use>
            </svg>
            数据展示</a></li>

        <ul class="children collapse" id="sub-item-1">
            <li>
                <a class="" href="#">
                    <svg class="glyph stroked chevron-right">
                        <use xlink:href="#stroked-chevron-right"></use>
                    </svg>
                    Sub Item 1
                </a>
            </li>
            <li>
                <a class="" href="#">
                    <svg class="glyph stroked chevron-right">
                        <use xlink:href="#stroked-chevron-right"></use>
                    </svg>
                    Sub Item 2
                </a>
            </li>
            <li>
                <a class="" href="#">
                    <svg class="glyph stroked chevron-right">
                        <use xlink:href="#stroked-chevron-right"></use>
                    </svg>
                    Sub Item 3
                </a>
            </li>
        </ul>
        </li>
        <li role="presentation" class="divider"></li>
        <!--<li><a href="login.html"><svg class="glyph stroked male-user"><use xlink:href="#stroked-male-user"></use></svg> Login Page</a></li>-->
    </ul>

</div><!--/.sidebar-->


<div class="page">
    <div class="row">
        <div class="col-lg-12">


        </div>
        <br></br><br></br><br></br>
    </div>

</div>


</div>


<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/chart.min.js"></script>
<script src="js/chart-data.js"></script>
<script src="js/easypiechart.js"></script>
<script src="js/easypiechart-data.js"></script>
<script src="js/bootstrap-datepicker.js"></script>

<script>
		!function ($) {
		    $(document).on("click","ul.nav li.parent > a > span.icon", function(){
		        $(this).find('em:first').toggleClass("glyphicon-minus");
		    });
		    $(".sidebar span.icon").find('em:first').addClass("glyphicon-plus");
		}(window.jQuery);

		$(window).on('resize', function () {
		  if ($(window).width() > 768) $('#sidebar-collapse').collapse('show')
		})
		$(window).on('resize', function () {
		  if ($(window).width() <= 767) $('#sidebar-collapse').collapse('hide')
		})



		var box = document.querySelector('#box');
var slide = document.querySelector('.slide');
var arraw = document.querySelector('.arraw');
var lis = document.querySelectorAll('li');
var json = [  //  包含了3张图片里面所有的样式
        {   //  1
            width:400,
            top:20,
            left:100,
            opacity:20,
            z:2,
            id:1
        },
        {  // 2
            width:400,
            //top:70,
            left:200,
            opacity:60,
            z:3,
            id:2
        },
        {   // 3
            width:800,
            top:10,
            left:200,
            opacity:100,
            z:4,
            id:3
        }

    ];
box.addEventListener('mouseover', function(){
  // console.log('aaa')
    animate(arraw, {opacity: 100});
});
box.addEventListener('mouseout', function(){
  // console.log('aaa')
    animate(arraw, {opacity: 0});
});

var next = document.querySelector('.next');
var prev = document.querySelector('.prev');
var timer = null;
var flag = true;
next.addEventListener('click', function(){
// alert('next');
  // console.log(json);
  // console.log('================')
clearInterval(timer);
if(flag == true){
move(true);
flag = false;
}
//console.log(json);
});
next.addEventListener('mouseleave', function(){

  clearInterval(timer);
  //alert('next')
run();
  //console.log(json);

});
prev.addEventListener('click', function(){
  clearInterval(timer);
  // alert('prev')
if(flag == true){
  move(false);
  flag = false;
}
});
prev.addEventListener('mouseleave', function(){
  // alert('prev')
// clearInterva(timer);
run();
});

move();
run();
function run(){
  clearInterval(timer);
  timer = setInterval(function(){
    // console.log('run')
  if(flag == true){
    flag = false;
    move(true);
  }
  // console.log(json)
},2000);
}

function move(x){
  if(x != undefined){
    if(x){
    json.push(json.shift());
    }else{
      json.unshift(json.pop());
    };
  };

  for(var i = 0; i<json.length; i++){
    animate(lis[i],{
      width: json[i].width,
      top: json[i].top,
      left: json[i].left,
      opacity: json[i].opacity,
      zIndex: json[i].z
    },function(){flag = true;})
  };
}

   function animate(obj, json, callback){
    // 先停止定时器
      clearInterval(obj.timers);
      obj.timers = setInterval(function(){
        var stoped = true;
        // console.log('sss')
        for(var k in json){
         // var leader = parseInt(getStyle(obj, k));
         var leader = 0;
         if(k == 'opacity'){
          leader = Math.round(getStyle(obj, k)*100) || 100;
         }else {
          // console.log(json[k]);
          leader = parseInt(getStyle(obj, k)) || 0;
         };
//         console.log(leader);
         // json[k]是目标位置
         var step = (json[k]-leader)/10;
         step = step > 0? Math.ceil(step) : Math.floor(step);
         leader = leader + step;
         if(k == 'opacity'){
          obj.style[k] = leader/100;
          obj.style['filter'] = 'alpha(opacity='+ leader +')';
         }else if(k == 'zIndex'){
          obj.style['zIndex'] = json[k];
             console.log(666);
         }else{
          obj.style[k] = leader + "px";
         }
         if(leader != json[k]){
          stoped = false;
          }
         };
         if(stoped){
            // console.log('stop')
            clearInterval(obj.timers);
            callback && callback();
          };
      },50);
    };
    //获取属性值
    function getStyle(obj, attr){
      if(obj.currentStyle){
        return obj.currentStyle[attr];
      }else{
        return window.getComputedStyle(obj, null)[attr];
      };
    };

</script>
</body>

</html>

